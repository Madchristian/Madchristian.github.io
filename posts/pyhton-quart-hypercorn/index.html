<!doctype html><html lang="de-DE" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Pyhton Quart Hypercorn" /><meta property="og:locale" content="de_DE" /><meta name="description" content="Erstellen einer Webanwendung mit Quart und Hypercorn in Python" /><meta property="og:description" content="Erstellen einer Webanwendung mit Quart und Hypercorn in Python" /><link rel="canonical" href="https://madchristian.github.io/posts/pyhton-quart-hypercorn/" /><meta property="og:url" content="https://madchristian.github.io/posts/pyhton-quart-hypercorn/" /><meta property="og:site_name" content="Christian Strube" /><meta property="og:image" content="https://images.cstrube.de/uploads/original/b1/dc/e5379756d9edc2b88b1b9dd6155d.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-06-27T00:00:00+02:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://images.cstrube.de/uploads/original/b1/dc/e5379756d9edc2b88b1b9dd6155d.webp" /><meta property="twitter:title" content="Pyhton Quart Hypercorn" /><meta name="twitter:site" content="@" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-03-18T10:34:14+01:00","datePublished":"2023-06-27T00:00:00+02:00","description":"Erstellen einer Webanwendung mit Quart und Hypercorn in Python","headline":"Pyhton Quart Hypercorn","image":{"lqip":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBAQFBAYFBQYJBgUGCQsIBgYICwwKCgsKCgwQDAwMDAwMEAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/2wBDAQcHBw0MDRgQEBgUDg4OFBQODg4OFBEMDAwMDBERDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAPABQDAREAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAgMEBgf/xAArEAABAwMBAw0AAAAAAAAAAAACARESAAMEIQUxUQYTFSIjM0FTYnGCodH/xAAYAQEAAwEAAAAAAAAAAAAAAAACAAMEAf/EACQRAAEDAgQHAAAAAAAAAAAAAAEAAhEDEgQiUWETIUFSkrLi/9oADAMBAAIRAxEAPwDL8jbmZiLbW1klbt3EIU3aKK6u4lxrokkgIVC1oBIm5KLlnti2CAOQpiSusVD76lMMdqqDiGaHy+VK6ay25yfbThL1Si8dz0J5StVuaN1Xci4tyzaHJtmAgpwJ0R3XXfwqCQTCFVrXAXGIlDbDCTzF+QflMOfoqODS7vVFPIk0C76Tv4zePvVfRbJzTuv/2Q==","url":"https://images.cstrube.de/uploads/original/b1/dc/e5379756d9edc2b88b1b9dd6155d.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://madchristian.github.io/posts/pyhton-quart-hypercorn/"},"url":"https://madchristian.github.io/posts/pyhton-quart-hypercorn/"}</script><title>Pyhton Quart Hypercorn | Christian Strube</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Christian Strube"><meta name="application-name" content="Christian Strube"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="https://images.cstrube.de/blog/images/mein-avatar/christian_space.webp" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><div class="site-title"> <a href="/">Christian Strube</a></div><div class="site-subtitle fst-italic">Technology, AI and Life</div></div><ul class="nav flex-column flex-grow-1 w-100 ps-0"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>STARTSEITE</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>KATEGORIEN</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIV</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ÜBER</span> </a></ul><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/madchristian" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://bsky.app/profile/madchristian.bsky.social" aria-label="bluesky" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-bluesky"></i> </a> <a href="javascript:location.href = 'mailto:' + ['christian','cstrube.de'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/christian-strube-b93217102/" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container px-xxl-5"><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100" > <span id="breadcrumb"> <span> <a href="/"> Startseite </a> </span> <span>Pyhton Quart Hypercorn</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Eintrag</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Suche..." > </span> <span id="search-cancel">Abbrechen</span></div></div><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4"><div class="post px-1 px-md-2"><h1 data-toc-skip>Pyhton Quart Hypercorn</h1><div class="post-meta text-muted"> <span> Veröffentlicht <em class="" data-ts="1687816800" data-df="DD/MM/YYYY" data-bs-toggle="tooltip" data-bs-placement="bottom" > 27/06/2023 </em> </span> <span> Aktualisiert <em class="" data-ts="1742290454" data-df="DD/MM/YYYY" data-bs-toggle="tooltip" data-bs-placement="bottom" > 18/03/2025 </em> </span><div class="mt-3 mb-3"> <a href="https://images.cstrube.de/uploads/original/b1/dc/e5379756d9edc2b88b1b9dd6155d.webp" class="popup img-link preview-img"><img data-src="https://images.cstrube.de/uploads/original/b1/dc/e5379756d9edc2b88b1b9dd6155d.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBAQFBAYFBQYJBgUGCQsIBgYICwwKCgsKCgwQDAwMDAwMEAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/2wBDAQcHBw0MDRgQEBgUDg4OFBQODg4OFBEMDAwMDBERDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAPABQDAREAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAgMEBgf/xAArEAABAwMBAw0AAAAAAAAAAAACARESAAMEIQUxUQYTFSIjM0FTYnGCodH/xAAYAQEAAwEAAAAAAAAAAAAAAAACAAMEAf/EACQRAAEDAgQHAAAAAAAAAAAAAAEAAhEDEgQiUWETIUFSkrLi/9oADAMBAAIRAxEAPwDL8jbmZiLbW1klbt3EIU3aKK6u4lxrokkgIVC1oBIm5KLlnti2CAOQpiSusVD76lMMdqqDiGaHy+VK6ay25yfbThL1Si8dz0J5StVuaN1Xci4tyzaHJtmAgpwJ0R3XXfwqCQTCFVrXAXGIlDbDCTzF+QflMOfoqODS7vVFPIk0C76Tv4zePvVfRbJzTuv/2Q==" class="lazyload" data-proofer-ignore></a></div><div class="d-flex justify-content-between"> <span> Von <em> <a href="https://twitter.com/madchristian404">Christian Strube</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="536 Wörter" > <em>2 Minuten</em> lesen</span></div></div></div><div class="post-content"><h1 id="erstellen-einer-webanwendung-mit-quart-und-hypercorn-in-python">Erstellen einer Webanwendung mit Quart und Hypercorn in Python</h1><p>Im heutigen Blogpost möchten wir uns auf das Erstellen von Webanwendungen mit Quart und Hypercorn in Python konzentrieren. Quart ist ein leistungsfähiges, asynchrones Web-Framework für Python, während Hypercorn ein ASGI-Server ist, der dazu dient, Ihre Quart-Anwendung zu hosten.</p><p>Die Quart-Anwendung, die wir in diesem Beitrag erstellen, integriert mehrere Technologien und Konzepte, darunter Redis, RabbitMQ und PostgreSQL. Dieser Beitrag geht davon aus, dass Sie mit Python und Grundlagen der Webentwicklung vertraut sind.</p><h2 id="die-hauptanwendung-erstellen"><span class="me-2">Die Hauptanwendung erstellen</span><a href="#die-hauptanwendung-erstellen" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Zuerst importieren wir die benötigten Module. Quart ist das Hauptmodul, das wir verwenden werden, um unsere Webanwendung zu erstellen. Wir importieren auch mehrere Blueprints, die unsere Anwendungsrouten definieren:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Kopiert!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="c1"># quartapp.py
</span><span class="kn">import</span> <span class="n">asyncio</span>
<span class="kn">from</span> <span class="n">quart</span> <span class="kn">import</span> <span class="n">Quart</span> 
<span class="kn">from</span> <span class="n">hypercorn.asyncio</span> <span class="kn">import</span> <span class="n">serve</span> 
<span class="kn">from</span> <span class="n">hypercorn.config</span> <span class="kn">import</span> <span class="n">Config</span> 
<span class="kn">from</span> <span class="n">quart_redis</span> <span class="kn">import</span> <span class="n">RedisHandler</span> 

<span class="kn">from</span> <span class="n">app.common.config</span> <span class="kn">import</span> <span class="n">Config</span>
<span class="kn">from</span> <span class="n">app.common.appcontainer</span> <span class="kn">import</span> <span class="n">AppContainer</span>
<span class="kn">from</span> <span class="n">app.quart.routes</span> <span class="kn">import</span> <span class="p">(</span><span class="n">metrics_api_blueprint</span><span class="p">,</span>
                              <span class="n">data_api_blueprint</span><span class="p">,</span>
                              <span class="n">rabbitmq_api_blueprint</span><span class="p">,</span>
                              <span class="n">cors_blueprint</span><span class="p">,</span>
                              <span class="n">user_api_blueprint</span><span class="p">,</span>
                              <span class="n">group_api_blueprint</span><span class="p">,</span>
                              <span class="n">audit_trail_api_blueprint</span><span class="p">)</span>
</pre></table></code></div></div><p>In diesem Codeblock sehen Sie, dass wir verschiedene Blueprints importieren, die die verschiedenen Teile unserer Anwendung definieren. Ein Blueprint in Quart ist ein Modul, das mehrere Routen, Vorlagen und statische Dateien gruppiert. Mit Blueprints können Sie Ihre Anwendung in logische Abschnitte unterteilen, die getrennt voneinander entwickelt und getestet werden können.</p><h2 id="registrieren-von-blueprints"><span class="me-2">Registrieren von Blueprints</span><a href="#registrieren-von-blueprints" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Mit der <code class="language-plaintext highlighter-rouge">register_blueprint</code>-Methode von Quart registrieren wir jeden Blueprint:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Kopiert!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">for</span> <span class="n">bp</span> <span class="ow">in</span> <span class="n">blueprints</span><span class="p">:</span>
    <span class="n">app</span><span class="p">.</span><span class="nf">register_blueprint</span><span class="p">(</span><span class="n">bp</span><span class="p">[</span><span class="sh">'</span><span class="s">blueprint</span><span class="sh">'</span><span class="p">])</span>
</pre></table></code></div></div><h2 id="verbindung-zur-datenbank"><span class="me-2">Verbindung zur Datenbank</span><a href="#verbindung-zur-datenbank" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Wir erstellen eine Hilfsfunktion, um die Verbindung zur Datenbank herzustellen. Diese Funktion versucht mehrmals, eine Verbindung herzustellen und wartet zwischen den Versuchen, um dem Datenbankserver Zeit zu geben, verfügbar zu werden:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Kopiert!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="k">async</span> <span class="k">def</span> <span class="nf">connect_with_retry</span><span class="p">(</span><span class="n">connect_func</span><span class="p">,</span> <span class="n">db_name</span><span class="p">,</span> <span class="n">max_attempts</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">retry_interval</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">
    Try to connect to a database with a given connect_func.</span><span class="sh">"""</span>
    <span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">max_attempts</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="nf">connect_func</span><span class="p">()</span>
            <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sh">"</span><span class="s">Connected successfully to %s !</span><span class="sh">"</span><span class="p">,</span> <span class="n">db_name</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sh">"</span><span class="s">Retrying in %s seconds... (%s/%s)</span><span class="sh">"</span><span class="p">,</span> <span class="n">retry_interval</span><span class="p">,</span> <span class="n">attempt</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_attempts</span><span class="p">)</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="p">.</span><span class="nf">sleep</span><span class="p">(</span><span class="n">retry_interval</span><span class="p">)</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sh">"</span><span class="s">Max retry attempts reached. Could not connect to %s .</span><span class="sh">"</span><span class="p">,</span> <span class="n">db_name</span><span class="p">)</span>
    <span class="k">raise</span> <span class="nc">SystemExit</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Could not connect to </span><span class="si">{</span><span class="n">db_name</span><span class="si">}</span><span class="s">.</span><span class="sh">"</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="starten-und-beenden-der-anwendung"><span class="me-2">Starten und Beenden der Anwendung</span><a href="#starten-und-beenden-der-anwendung" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Wir definieren <code class="language-plaintext highlighter-rouge">startup</code> und <code class="language-plaintext highlighter-rouge">cleanup</code> Funktionen, die Quart vor bzw. nach dem Start der Anwendung aufruft. In der <code class="language-plaintext highlighter-rouge">startup</code> Funktion verbinden wir uns mit den Daten</p><p>banken und initialisieren die Managerklassen, während wir in der <code class="language-plaintext highlighter-rouge">cleanup</code> Funktion die Verbindungen und Ressourcen aufräumen:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Kopiert!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nd">@app.before_serving</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">startup</span><span class="p">():</span>
    <span class="bp">...</span>

<span class="nd">@app.after_serving</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">cleanup</span><span class="p">():</span>
    <span class="bp">...</span>
</pre></table></code></div></div><h2 id="die-anwendung-starten"><span class="me-2">Die Anwendung starten</span><a href="#die-anwendung-starten" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Schließlich erstellen wir die <code class="language-plaintext highlighter-rouge">main</code>-Funktion, um die Anwendung zu starten:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Kopiert!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="n">quart_config</span> <span class="o">=</span> <span class="nf">create_quart_config</span><span class="p">()</span>
    <span class="n">config</span> <span class="o">=</span> <span class="nc">Config</span><span class="p">()</span>
    <span class="n">config</span><span class="p">.</span><span class="n">bind</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">quart_config</span><span class="p">.</span><span class="n">host</span><span class="si">}</span><span class="s">:</span><span class="si">{</span><span class="n">quart_config</span><span class="p">.</span><span class="n">port</span><span class="si">}</span><span class="sh">"</span><span class="p">]</span>
    <span class="n">config</span><span class="p">.</span><span class="n">certfile</span> <span class="o">=</span> <span class="n">quart_config</span><span class="p">.</span><span class="n">certfile</span>
    <span class="n">config</span><span class="p">.</span><span class="n">keyfile</span> <span class="o">=</span> <span class="n">quart_config</span><span class="p">.</span><span class="n">keyfile</span>
    <span class="n">config</span><span class="p">.</span><span class="n">protocol</span> <span class="o">=</span> <span class="n">quart_config</span><span class="p">.</span><span class="n">protocol</span>
    <span class="n">config</span><span class="p">.</span><span class="n">application_path</span> <span class="o">=</span> <span class="sh">"</span><span class="s">quartapp:app</span><span class="sh">"</span>

    <span class="n">asyncio</span><span class="p">.</span><span class="nf">run</span><span class="p">(</span><span class="nf">serve</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">config</span><span class="p">))</span>
</pre></table></code></div></div><p>Dieser Code startet den Hypercorn-Server und bindet ihn an die von der Konfiguration angegebene Adresse und den Port. Danach serviert Hypercorn die Quart-Anwendung und wartet auf eingehende Anfragen.</p><p>Das ist alles! Mit diesen wenigen Schritten haben wir eine grundlegende Quart-Anwendung erstellt und mit Hypercorn gehostet. In zukünftigen Blogposts werden wir uns eingehender mit den einzelnen Aspekten dieser Anwendung befassen und uns ansehen, wie wir diese Anwendung weiter anpassen und erweitern können.</p><hr /><p>Schlüsselwörter: #Quart #Hypercorn #WebApp #Python #ASGI #APIs #WebEntwicklung</p></div><div class="post-tail-wrapper text-muted"><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> Dieser Eintrag ist vom Autor unter <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> lizensiert.</div><div class="share-wrapper"> <span class="share-label text-muted me-1">Teilen</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Pyhton%20Quart%20Hypercorn%20-%20Christian%20Strube&url=https%3A%2F%2Fmadchristian.github.io%2Fposts%2Fpyhton-quart-hypercorn%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Pyhton%20Quart%20Hypercorn%20-%20Christian%20Strube&u=https%3A%2F%2Fmadchristian.github.io%2Fposts%2Fpyhton-quart-hypercorn%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fmadchristian.github.io%2Fposts%2Fpyhton-quart-hypercorn%2F&text=Pyhton%20Quart%20Hypercorn%20-%20Christian%20Strube" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram" > <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fmadchristian.github.io%2Fposts%2Fpyhton-quart-hypercorn%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin" > <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-bs-toggle="tooltip" data-bs-placement="top" title="Link kopieren" data-title-succeed="Link erfolgreich kopiert!" > </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Kürzlich aktualisiert</div><ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/tunneldebugger/">TunnelDebugger Support</a><li class="text-truncate lh-lg"> <a href="/posts/Apple-Content-Cache-Grafana-Dashboard/">Apple Content Cache mit Grafana und Prometheus überwachen – Schritt-für-Schritt-Anleitung</a><li class="text-truncate lh-lg"> <a href="/posts/swift-apns/">Apple Push Notification Service mit Quart und Python: Ein Leitfaden</a><li class="text-truncate lh-lg"> <a href="/posts/swift-parken-app-0-0-4/">Parken App und Backend - Updates und Bugfixes</a><li class="text-truncate lh-lg"> <a href="/posts/swift-parken-app-0-0-5/">Parken App Updates 0.0.5</a></ul></div><div id="access-tags"><div class="panel-heading">Beliebte Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/networking/">networking</a> <a class="post-tag btn btn-outline-primary" href="/tags/swiftui/">swiftui</a> <a class="post-tag btn btn-outline-primary" href="/tags/backend/">backend</a> <a class="post-tag btn btn-outline-primary" href="/tags/combine/">combine</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">iOS</a> <a class="post-tag btn btn-outline-primary" href="/tags/jekyll/">jekyll</a> <a class="post-tag btn btn-outline-primary" href="/tags/nginx/">nginx</a> <a class="post-tag btn btn-outline-primary" href="/tags/webserver/">webserver</a> <a class="post-tag btn btn-outline-primary" href="/tags/bash/">bash</a></div></div></div><div id="toc-wrapper" class="ps-0 pe-4 mb-5"><div class="panel-heading ps-3 pt-2 mb-2">Inhalt</div><nav id="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ms-1" data-toc-skip> Weiterlesen</h3><div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><div class="col"> <a href="/posts/tunneldebugger/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1744530676" data-df="DD/MM/YYYY" > 13/04/2025 </em><h4 class="pt-0 my-2" data-toc-skip>TunnelDebugger Support</h4><div class="text-muted small"><p> tunneldebugger – Der umfassende Support-Leitfaden Willkommen auf unserem Support-Blog für tunneldebugger – die App zur Netzwerk- und VPN-Diagnose! In diesem Beitrag erfährst du, wie meine App funk...</p></div></div></a></div><div class="col"> <a href="/posts/Apple-Content-Cache-Grafana-Dashboard/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1741276346" data-df="DD/MM/YYYY" > 06/03/2025 </em><h4 class="pt-0 my-2" data-toc-skip>Apple Content Cache mit Grafana und Prometheus überwachen – Schritt-für-Schritt-Anleitung</h4><div class="text-muted small"><p> Apple Content Cache mit Grafana und Prometheus überwachen – Schritt-für-Schritt-Anleitung Introduction TL;DR: This guide explains why monitoring the Apple Content Cache is crucial for optimizing ...</p></div></div></a></div><div class="col"> <a href="/posts/swift-ACCpromAdapter-App/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1740933483" data-df="DD/MM/YYYY" > 02/03/2025 </em><h4 class="pt-0 my-2" data-toc-skip>ACCpromAdapter App – Monitoring und Analyse von Apple Content Cache Metriken</h4><div class="text-muted small"><p> ACCpromAdapter Version: 1.0 Author: Christian Strube License: MIT — Die ACCPromAdapter App ist eine innovative macOS-Anwendung, die speziell dafür entwickelt wurde, die Metriken des Apple Content...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/pihole-unbound-ipv6/" class="btn btn-outline-primary" prompt="Eintrag vorher" ><p>Pi-Hole mit Unbound / IPv4 und IPv6</p></a> <a href="/posts/python-audit-trail/" class="btn btn-outline-primary" prompt="Nächster Eintrag" ><p>Building an Audit Trail with Quart, MongoDB, and Redis</p></a></div><script type="text/javascript"> (function () { const origin = 'https://giscus.app'; const iframe = 'iframe.giscus-frame'; const lightTheme = 'light'; const darkTheme = 'dark_dimmed'; let initTheme = lightTheme; const html = document.documentElement; if ( (html.hasAttribute('data-mode') && html.getAttribute('data-mode') === 'dark') || (!html.hasAttribute('data-mode') && window.matchMedia('(prefers-color-scheme: dark)').matches) ) { initTheme = darkTheme; } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'Madchristian/Madchristian.github.io', 'data-repo-id': 'R_kgDOHkSiUQ', 'data-category': 'Posts', 'data-category-id': 'DIC_kwDOHkSiUc4CoKuq', 'data-mapping': 'pathname', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': 'de', crossorigin: 'anonymous', async: '' }; let giscusScript = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value) ); document.getElementById('tail-wrapper').appendChild(giscusScript); addEventListener('message', (event) => { if ( event.source === window && event.data && event.data.direction === ModeToggle.ID ) { /* global theme mode changed */ const mode = event.data.message; const theme = mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme; const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); })(); </script></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Beliebte Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/networking/">networking</a> <a class="post-tag btn btn-outline-primary" href="/tags/swiftui/">swiftui</a> <a class="post-tag btn btn-outline-primary" href="/tags/backend/">backend</a> <a class="post-tag btn btn-outline-primary" href="/tags/combine/">combine</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">ios</a> <a class="post-tag btn btn-outline-primary" href="/tags/ios/">iOS</a> <a class="post-tag btn btn-outline-primary" href="/tags/jekyll/">jekyll</a> <a class="post-tag btn btn-outline-primary" href="/tags/nginx/">nginx</a> <a class="post-tag btn btn-outline-primary" href="/tags/webserver/">webserver</a> <a class="post-tag btn btn-outline-primary" href="/tags/bash/">bash</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div></div><footer><div class="container px-lg-4"><div class="d-flex justify-content-center align-items-center text-muted mx-md-3"><p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme</p><p>© 2025 <a href="https://twitter.com/madchristian404">Christian Strube</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Alle Einträge auf dieser Seite stehen, soweit nicht anders angegeben, unter der Lizenz Creative Commons Attribution 4.0 (CC BY 4.0)." >Einige Rechte vorbehalten.</span></p></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">Eine neue Version ist verfügbar.</p><button type="button" class="btn btn-primary" aria-label="Update"> Neue Version </button></div></div><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/de.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-RMF96QTHNP"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-RMF96QTHNP'); }); </script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
